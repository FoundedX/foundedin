{% extends "dashboard_base.html" %}

{% block page_name %}
    Feature
{% endblock %}


{% block breadcrumbs %}Featured{% endblock %}

{% block main %}
    <div class="row">
        <div class="col-lg-12">
        <h3>New Feature</h3>
            <form id="new_feature" method="post" action="/dashboard/feature" role="form">
                
                <div class="form-group">
                    <label>Company Description</label>
                    <textarea name="description" class="form-control" rows="3"></textarea>
                </div>

                <div class="form-group">
                    <label>Founder(s)</label>
                    <div id="founders">
                        <input name="founder" type="text" class="form-control">
                    </div>
                    <p id="founders_help" class="help-block">Enter name, followed by twitter handle (comma separated)</p>
                </div>
                <div class="form-group">
                    <span id="add_founder" class="btn btn-primary">Add <i class="fa fa-plus"></i></span>
                </div>
                <div class="form-group">
                    <label>Sound Cloud (embed Code)</label>
                    <input name="podcast" class="form-control" type="text">
                    <p class="help-block">Soundcloud embed code</p>
                </div>

                <div class="form-group">
                    <label>Choose a startup</label>
                    <select name="startup_id" class="form-control">
                        {% for s in startups %}
                            <option value="{{s.key.id()}}">{{s.q1}}</option>
                        {% endfor %}
                    </select>
                </div>

                <input type="submit" class="btn btn-default add" value="Save">
            </form>
        </div>
    </div>
{% endblock %}

{% block join %}
{% endblock %}

{% block script %}
    
    <script type="text/javascript">
        $("body").on("click", "#add_founder", function(){

            var html = '<br><input name="founder" class="form-control">';
            $("#founders").append(html);

        });
        /*$("body").on("submit", "#new_feature", function(e){

            e.preventDefault();

            var matches = 0;
            $(":input[name=founder]").each(function() {
                matches++;
            });

            alert(matches);

        });*/
    </script>

    <script type="text/javascript">
    </script>

{% endblock %}

{% block modal %}
    <div id="save_modal" class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">
                <span aria-hidden="true">&times;</span><span class="sr-only">Close</span>
            </button>
            <h4 class="modal-title">Message</h4>
            </div>
          <div class="panel panel-success ext-center">Saved</div>
        </div>
      </div>
    <div id="error_modal" class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">
                <span aria-hidden="true">&times;</span><span class="sr-only">Close</span>
            </button>
            <h4 class="modal-title">Message</h4>
            </div>

          <div class="panel panel-danger ext-center">Error saving</div>
        </div>
      </div>
    </div>
{% endblock %}






